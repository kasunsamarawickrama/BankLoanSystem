@model BankLoanSystem.Models.TitleStatus
@{
    WebGrid grid = new WebGrid(Model.TitleList, defaultSort: "VIN/HIN/Serial ", canPage: false, ajaxUpdateContainerId: "checkableGridDiv", ajaxUpdateCallback: "GridUpdate");
}

@if (Model.TitleList.Count() != 0)
{
    <div id="searchGrid" style="overflow-x: hidden;overflow-y: scroll;height: 200px;">
        @grid.GetHtml(
            tableStyle: "gridtable",
            headerStyle: "webgrid-header",
            alternatingRowStyle: "webgrid-alternating-row",
            rowStyle: "webgrid-row-style",
            htmlAttributes: new { id = "titleGrid" },
            columns: grid.Columns(

                grid.Column("VIN/HIN/serial #", "VIN/HIN/serial #", canSort: false, format:@<text>@{<label id="vin" class="vin">@item.IdentificationNumber</label>}</text>),
                grid.Column("Year", "Year", format:@<text>@{<label id="year" class="year">@item.Year</label>}</text>),
                grid.Column("Make", "Make", format:@<text>@{<label id="make" class="make">@item.Make</label>}</text>),
                grid.Column("Model", "Model", format:@<text>@{<label id="model" class="model">@item.Model</label>}</text>),
                grid.Column("Current Title Status", "Current Title Status", format:@<text>@{<label id="currentStatus" class="currentStatus">@item.CurrentTitleStatus</label>}</text>)
                                )
                    )
            </div>
}
else {
    <div id="noDataLabelDiv" style="padding-bottom: 15px;width:870px;float: unset;margin-top:10px; font:medium;color:red;text-align:center">
        @Html.Label("No search data found", htmlAttributes: new { @class = "control-label col-sm-3", @style = "float:unset" })
    </div>

}

<script>
    $(function () {

        $('#titleGrid').children('tbody').children('tr').click(function () {
            var tr = $(this);

            $(this).css('background', 'lightblue');
            $(this).siblings().css('background', 'aliceblue');
            SetTextBoxValues(tr);

        });
    });
    
    if ($('#titleGrid').children('tbody').children('tr').length == 1) {
        alert('hg');
        $('#searchGrid1').hide();
        SetTextBoxValues(tr);
    }
</script>